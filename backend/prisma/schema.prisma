// prisma/schema.prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"

}

model User {
  id          String  @id @default(uuid())
  name        String
  email       String  @unique
  age         Int 
  mobile_no   String
  address     String
  password    String
  photo       String? 
  blood_group String
  Emergency Emergency[]

  ReferLab ReferLab[]
}

enum Type {
  PRESCRIPTION
  LAB 
  IMAGING
  VACCINATION 
}

model HealthRecord{
  id              String  @id @default(uuid())
  name            String
  date            DateTime
  type            Type @default(PRESCRIPTION)
}


model Emergency{
  id          String  @id @default(uuid())
  name        String
  mobile_no   String
  relatinon   String
  user      User @relation(fields: [userId], references: [id])
  userId      String
}

model Ambulance {
  id            String @id @default(uuid())
  location      String
  total         Int
  phone         String
  active        Boolean
  fee           Int

}

// enum Mode {
//   VIDEO
//   CHAT
//   INPLACE
// }

enum Status {
  SCHEDULED
  COMPLETED
  CANCELLED
}

model Appointment{
  id           String @id @default(uuid())
  date         DateTime
  mode         String
  status       Status @default(SCHEDULED)
  
}

model Doctor{
  id          String  @id @default(uuid())
  name        String
  email       String  @unique
  age         Int 
  mobile_no   String
  address     String
  photo       String? 
  rating      Int
  active      Boolean
  Language    String
  fee         Int
  Speciality  Speciality[]
  ReferLab    ReferLab[]

}

model Speciality{
  id          String  @id @default(uuid())
  name        String
  description String
  experience  Int
  certificate String
  doctor      Doctor @relation(fields: [doctorid], references: [id])
  doctorid    String
}

model LabTest{
  id     String @id @default(uuid())
  name   String
  fee    Int
  address String
  type   String
  Date   DateTime
  ReferLab ReferLab[]
}

model ReferLab{
   id        String @id @default(uuid())
   doctor    Doctor @relation(fields: [doctorid], references: [id])
   doctorid  String
   lab       LabTest @relation(fields: [labid], references: [id])
   labid     String
   user User @relation(fields: [userid], references: [id])
   userid    String
}

model Hospital{
  id                    String  @id @default(uuid())
  name                  String
  description           String
  address               String
  photo                 String?
  email                 String
  established_date      DateTime
}







model Message {
  id         String @id @default(uuid())


}





